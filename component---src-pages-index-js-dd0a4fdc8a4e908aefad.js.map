{"version":3,"sources":["webpack:///./src/components/Charts.js","webpack:///./src/pages/index.js","webpack:///./src/images/favicon.png","webpack:///./src/images/logo.png","webpack:///./src/components/Header.js","webpack:///./src/components/Footer.js","webpack:///./src/components/Container.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","Charts","_this","_React$Component","call","this","state","plantData","humidity","labels","datasets","label","data","backgroundColor","borderColor","pointRadius","pointBorderWidth","borderWidth","touch","chartOptions","options","scales","yAxes","ticks","beginAtZero","min","max","componentWillMount","_this2","newHumidity","newTouch","ref","orderByChild","limitToLast","on","snapshot","items","val","newState","newHumidityData","newTouchData","newLabels","item","push","id","capacity","capacityMapped","timestamp","dayjs","unix","format","setState","componentDidMount","render","react_default","a","createElement","className","es","height","React","Component","__webpack_exports__","_ref","Container","Helmet","components_Charts","module","exports","__webpack_require__","p","Header","children","Footer","containerStyle","backgroundImage","logo","style","defaultTitle","titleTemplate","charSet","rel","type","href","favicon","name","content"],"mappings":"oMAiBAA,IAASC,cAXY,CACnBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,iBAMrB,IAAIC,EAAWR,IAASQ,WAuGTC,cApGb,SAAAA,IAAc,IAAAC,EAAA,OACZA,EAAAC,EAAAC,KAAAC,aACKC,MAAQ,CACXC,UAAW,GACXC,SAAU,CACRC,OAAQ,GACRC,SAAU,CACR,CACEC,MAAO,WACPC,KAAM,GACNC,gBAAiB,CAAC,2BAClBC,YAAa,CAAC,yBACdC,YAAa,EACbC,iBAAkB,EAClBC,YAAa,KAInBC,MAAO,CACLT,OAAQ,GACRC,SAAU,CACR,CACEC,MAAO,QACPC,KAAM,GACNC,gBAAiB,CAAC,2BAClBC,YAAa,CAAC,sBACdC,YAAa,EACbC,iBAAkB,EAClBC,YAAa,KAInBE,aAAc,CACZC,QAAS,CACPC,OAAQ,CACNC,MAAO,CACL,CACEC,MAAO,CACLC,aAAa,EACbC,IAAK,EACLC,IAAK,WAxCPxB,sCAkDdyB,8BAAqB,IAAAC,EAAAvB,KACfwB,EAAcxB,KAAKC,MAAME,SACzBsB,EAAWzB,KAAKC,MAAMY,MAEXlB,EACZ+B,IAAI,UACJC,aAAa,aACbC,YA/De,IAgETC,GAAG,QAAS,SAAAC,GACnB,IAAIC,EAAQD,EAASE,MACjBC,EAAW,GACXC,EAAkB,GAClBC,EAAe,GACfC,EAAY,GAEhB,IAAK,IAAIC,KAAQN,EACfE,EAASK,KAAK,CACZC,GAAIF,EACJlC,SAAU4B,EAAMM,GAAMlC,SACtBqC,SAAUT,EAAMM,GAAMI,eACtBC,UAAWC,IAAMC,KAAKb,EAAMM,GAAMK,WAAWG,OAAO,oBAEtDX,EAAgBI,KAAKP,EAAMM,GAAMlC,UACjCgC,EAAaG,KAAKP,EAAMM,GAAMI,gBAC9BL,EAAUE,KAAKK,IAAMC,KAAKb,EAAMM,GAAMK,WAAWG,OAAO,YAE1DrB,EAAYnB,SAAS,GAAGE,KAAO2B,EAC/BV,EAAYpB,OAASgC,EACrBX,EAASpB,SAAS,GAAGE,KAAO4B,EAC5BV,EAASrB,OAASgC,EAClBb,EAAKuB,SAAS,CAAE5C,UAAW+B,EAAU9B,SAAUqB,EAAaX,MAAOY,SAIvEsB,iCAEAC,kBACE,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,OAAQ,IAAK/C,KAAMP,KAAKC,MAAME,SAAUY,QAASf,KAAKC,MAAMa,aAAaC,WAEjFkC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,OAAQ,IAAK/C,KAAMP,KAAKC,MAAMY,MAAOE,QAASf,KAAKC,MAAMa,aAAaC,gBA9FjEwC,IAAMC,WCZZC,EAAA,iBAAAC,GAAcA,EAAXnD,KAGhB,OACE0C,EAAAC,EAAAC,cAACQ,EAAA,EAAD,KACEV,EAAAC,EAAAC,cAACS,EAAA,OAAD,KACEX,EAAAC,EAAAC,cAAA,aALY,gBAOdF,EAAAC,EAAAC,cAACU,EAAD,qHChBNC,EAAAC,QAAiBC,EAAAC,EAAuB,2ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kHCEzBC,EAAA,SAAAR,KAAGS,SAAH,OACblB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,kBCHSgB,EAAA,SAAAV,KAAGS,SAAH,OACblB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAA,iFCeAkB,EAAiB,CACnBC,gBAAiB,cAASC,EAAO,KAGpBd,EAAA,WAAAC,GAAkB,IAAfS,EAAeT,EAAfS,SAChB,OACElB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYoB,MAAOH,GAChCpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAACS,EAAA,OAAD,CAAQa,aAAY,aAAgBC,cAAa,mBAC/CzB,EAAAC,EAAAC,cAAA,QAAMwB,QAAQ,UACd1B,EAAAC,EAAAC,cAAA,QAAMyB,IAAI,gBAAgBC,KAAK,YAAYC,KAAMC,MACjD9B,EAAAC,EAAAC,cAAA,QAAM6B,KAAK,UAAUC,QAAQ,YAC7BhC,EAAAC,EAAAC,cAAA,QAAM6B,KAAK,eAAeC,QAAQ,gBAEpChC,EAAAC,EAAAC,cAACe,EAAD,MACCC,EACDlB,EAAAC,EAAAC,cAACiB,EAAD","file":"component---src-pages-index-js-dd0a4fdc8a4e908aefad.js","sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport firebase from 'firebase';\nimport dayjs from 'dayjs';\n\n// firebase config\nvar firebaseConfig = {\n  apiKey: 'AIzaSyAFcUyHDwnSbQhb8WXxyeQZBCbVpHe_lS8',\n  authDomain: 'mdef-planty.firebaseapp.com',\n  databaseURL: 'https://mdef-planty.firebaseio.com',\n  projectId: 'mdef-planty',\n  storageBucket: 'mdef-planty.appspot.com',\n  messagingSenderId: '907223222028'\n};\n\nvar numberOfRecords = 20;\n\nfirebase.initializeApp(firebaseConfig);\nvar database = firebase.database();\n\nclass Charts extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      plantData: [],\n      humidity: {\n        labels: [],\n        datasets: [\n          {\n            label: 'Humidity',\n            data: [],\n            backgroundColor: ['rgba(54, 162, 235, 0.1)'],\n            borderColor: ['rgba(54, 162, 235, 1)'],\n            pointRadius: 2,\n            pointBorderWidth: 2,\n            borderWidth: 3\n          }\n        ]\n      },\n      touch: {\n        labels: [],\n        datasets: [\n          {\n            label: 'Touch',\n            data: [],\n            backgroundColor: ['rgba(255, 99, 132, 0.2)'],\n            borderColor: ['rgba(255,99,132,1)'],\n            pointRadius: 2,\n            pointBorderWidth: 2,\n            borderWidth: 3\n          }\n        ]\n      },\n      chartOptions: {\n        options: {\n          scales: {\n            yAxes: [\n              {\n                ticks: {\n                  beginAtZero: true,\n                  min: 0,\n                  max: 300\n                }\n              }\n            ]\n          }\n        }\n      }\n    };\n  }\n\n  componentWillMount() {\n    let newHumidity = this.state.humidity;\n    let newTouch = this.state.touch;\n\n    var plantRef = database\n      .ref('plant1')\n      .orderByChild('timestamp')\n      .limitToLast(numberOfRecords);\n    plantRef.on('value', snapshot => {\n      let items = snapshot.val();\n      let newState = [];\n      let newHumidityData = [];\n      let newTouchData = [];\n      let newLabels = [];\n\n      for (let item in items) {\n        newState.push({\n          id: item,\n          humidity: items[item].humidity,\n          capacity: items[item].capacityMapped,\n          timestamp: dayjs.unix(items[item].timestamp).format('H:mm D.MM.YYYY')\n        });\n        newHumidityData.push(items[item].humidity);\n        newTouchData.push(items[item].capacityMapped);\n        newLabels.push(dayjs.unix(items[item].timestamp).format('H:mm:ss'));\n      }\n      newHumidity.datasets[0].data = newHumidityData;\n      newHumidity.labels = newLabels;\n      newTouch.datasets[0].data = newTouchData;\n      newTouch.labels = newLabels;\n      this.setState({ plantData: newState, humidity: newHumidity, touch: newTouch });\n    });\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <div className=\"charts\">\n        <div className=\"chart\">\n          <Line height={180} data={this.state.humidity} options={this.state.chartOptions.options} />\n        </div>\n        <div className=\"chart\">\n          <Line height={180} data={this.state.touch} options={this.state.chartOptions.options} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Charts;\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\n\n// components\nimport Container from '../components/Container';\nimport Charts from '../components/Charts';\n\n// index.js\nexport default ({ data }) => {\n  const pageTitle = 'Wet My Leaf';\n\n  return (\n    <Container>\n      <Helmet>\n        <title>{pageTitle}</title>\n      </Helmet>\n      <Charts />\n    </Container>\n  );\n};\n","module.exports = __webpack_public_path__ + \"static/favicon-e7cc530f0c0c722201c94226ca553ce5.png\";","module.exports = __webpack_public_path__ + \"static/logo-7507ab4bae09cdd9ccacda2aa294f21d.png\";","import React from 'react';\n\nexport default ({ children }) => (\n  <header className=\"header\">\n    <div className=\"logo\">\n      <h1 className=\"ta-center\">Wet My Leaf</h1>\n    </div>\n  </header>\n);\n","import React from 'react';\n\nexport default ({ children }) => (\n  <footer className=\"footer\">\n    <p>MDEF 2018</p>\n  </footer>\n);\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\n\n// components\nimport Header from './Header';\nimport Footer from './Footer';\n\n// global CSS\nimport '../css/utils/normalize.css';\nimport '../css/utils/base.css';\nimport '../css/utils/helpers.css';\n\n// component CSS\nimport '../css/styles.css';\n\n// images\nimport favicon from '../images/favicon.png';\nimport logo from '../images/logo.png';\n\nvar containerStyle = {\n  backgroundImage: 'url(' + logo + ')'\n};\n\nexport default ({ children }) => {\n  return (\n    <div className=\"container\" style={containerStyle}>\n      <div className=\"content\">\n        <Helmet defaultTitle={`MDEF Diary`} titleTemplate={`%s | MDEF Diary`}>\n          <meta charSet=\"utf-8\" />\n          <link rel=\"shortcut icon\" type=\"image/png\" href={favicon} />\n          <meta name=\"og:type\" content=\"website\" />\n          <meta name=\"og:site_name\" content=\"MDEF Diary\" />\n        </Helmet>\n        <Header />\n        {children}\n        <Footer />\n      </div>\n    </div>\n  );\n};\n"],"sourceRoot":""}